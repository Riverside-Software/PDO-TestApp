/* 
ABL example derived from Infragistics source, copyright ©1992-2008 Infragistics, 
Inc., Windsor Corporate Park, 50 Millstone Road, Building 200 Suite 150, East 
Windsor, NJ 08520. All rights reserved.
*/ 
 /*------------------------------------------------------------------------
    File        : frmRowFiltering
    Purpose     : 
    Syntax      : 
    Description : 
    Author(s)   : hdaniels  - copied/transformed from Infragistic sample
    Created     : Sat May 24 18:15:32 EDT 2008
    Notes       : 
  ----------------------------------------------------------------------*/

USING Progress.Lang.*.
USING Progress.Windows.Form.

using WinGrid.SamplesExplorer.*.


CLASS WinGrid.SamplesExplorer.frmRowFiltering INHERITS Form  implements ISamplesBase  : 
	
	DEFINE PRIVATE VARIABLE components AS System.ComponentModel.IContainer.


	define public variable Panel1 as System.Windows.Forms.Panel no-undo.
	define private variable label1 as System.Windows.Forms.Label no-undo.
	define private variable groupBoxRowFilterMode as System.Windows.Forms.GroupBox no-undo.
	define private variable radioSiblingRowsOnly as System.Windows.Forms.RadioButton no-undo.
	define private variable radioAllRowsInBand as System.Windows.Forms.RadioButton no-undo.
	define private variable chkRowFiltering as System.Windows.Forms.CheckBox no-undo.
	define private variable chkExpandAllNodes as System.Windows.Forms.CheckBox no-undo.
	define public variable chkEnableAlphaBlending as System.Windows.Forms.CheckBox no-undo.
	define public variable lblDescription as System.Windows.Forms.Label no-undo.
	define public variable btnTitle as System.Windows.Forms.Button no-undo.
	define private variable groupBoxFilterActionAppearances as System.Windows.Forms.GroupBox no-undo.
	define private variable buttonFilteredOutRowAppearance as System.Windows.Forms.Button no-undo.
	define private variable buttonFilteredInRowAppearance as System.Windows.Forms.Button no-undo.
	define private variable buttonFilteredOutCellAppearance as System.Windows.Forms.Button no-undo.
	define private variable buttonFilteredInCellAppearance as System.Windows.Forms.Button no-undo.
	define private variable comboBoxFilterAction as System.Windows.Forms.ComboBox no-undo.
	define private variable UltraGrid1 as Infragistics.Win.UltraWinGrid.UltraGrid no-undo.

    /* manual defs */
	define private variable fCustOrderDataSource as DataServices.IDataService no-undo.
    define private variable fAppearancePickerForm as AppearancePicker no-undo.
	
	/* Provides a description for the sample. */
	define public property Description as character no-undo 
	get:
	    return lblDescription:Text.
	end.
	
    /* Name of the sample. */
	define public property SampleName as character no-undo
    get:
        return btnTitle:Text. 
    end.
	
    /* Type of sample. */
	define public property SampleType as character no-undo
	get:
	    return "Feature".
	end.    

	/* Preview Picture for Sample */
	define public property PreviewPicture as System.Drawing.Image no-undo
    get:
        return System.Drawing.Image:FromFile( SamplesPath:GraphicsPath + "/Previews/RowFiltering.png").
    end.  
		
	CONSTRUCTOR PUBLIC frmRowFiltering (  ):
		
		SUPER().
		InitializeComponent ( ).

	END CONSTRUCTOR.

	DESTRUCTOR PUBLIC frmRowFiltering ( ):

		IF VALID-OBJECT(components) THEN DO:
			CAST(components, System.IDisposable):Dispose().
		END.

	END DESTRUCTOR.

	
















	method private void InitializeComponent ( ):

/* 		NOTE: The following method is generated by the OpenEdge Advanced GUI Visual Designer.

		We strongly suggest that the contents of this method only be modified using the
		Visual Designer to avoid any incompatible modifications.

		Modifying the contents of this method using a code editor will invalidate any support for this file. */

		this-object:Panel1 = new System.Windows.Forms.Panel().
		this-object:label1 = new System.Windows.Forms.Label().
		this-object:groupBoxRowFilterMode = new System.Windows.Forms.GroupBox().
		this-object:radioSiblingRowsOnly = new System.Windows.Forms.RadioButton().
		this-object:radioAllRowsInBand = new System.Windows.Forms.RadioButton().
		this-object:chkRowFiltering = new System.Windows.Forms.CheckBox().
		this-object:chkExpandAllNodes = new System.Windows.Forms.CheckBox().
		this-object:chkEnableAlphaBlending = new System.Windows.Forms.CheckBox().
		this-object:lblDescription = new System.Windows.Forms.Label().
		this-object:btnTitle = new System.Windows.Forms.Button().
		this-object:groupBoxFilterActionAppearances = new System.Windows.Forms.GroupBox().
		this-object:buttonFilteredOutRowAppearance = new System.Windows.Forms.Button().
		this-object:buttonFilteredInRowAppearance = new System.Windows.Forms.Button().
		this-object:buttonFilteredOutCellAppearance = new System.Windows.Forms.Button().
		this-object:buttonFilteredInCellAppearance = new System.Windows.Forms.Button().
		this-object:comboBoxFilterAction = new System.Windows.Forms.ComboBox().
		this-object:UltraGrid1 = new Infragistics.Win.UltraWinGrid.UltraGrid().
		this-object:Panel1:SuspendLayout().
		this-object:groupBoxRowFilterMode:SuspendLayout().
		this-object:groupBoxFilterActionAppearances:SuspendLayout().
		cast(this-object:UltraGrid1, System.ComponentModel.ISupportInitialize):BeginInit().
		this-object:SuspendLayout().
		/*  */
		/* Panel1 */
		/*  */
		this-object:Panel1:Controls:Add(this-object:label1).
		this-object:Panel1:Controls:Add(this-object:groupBoxRowFilterMode).
		this-object:Panel1:Controls:Add(this-object:chkRowFiltering).
		this-object:Panel1:Controls:Add(this-object:chkExpandAllNodes).
		this-object:Panel1:Controls:Add(this-object:chkEnableAlphaBlending).
		this-object:Panel1:Controls:Add(this-object:lblDescription).
		this-object:Panel1:Controls:Add(this-object:btnTitle).
		this-object:Panel1:Controls:Add(this-object:groupBoxFilterActionAppearances).
		this-object:Panel1:Controls:Add(this-object:comboBoxFilterAction).
		this-object:Panel1:Dock = System.Windows.Forms.DockStyle:Top.
		this-object:Panel1:Location = new System.Drawing.Point(0, 0).
		this-object:Panel1:Name = "Panel1".
		this-object:Panel1:Size = new System.Drawing.Size(616, 176).
		this-object:Panel1:TabIndex = 16.
		/*  */
		/* label1 */
		/*  */
		this-object:label1:Location = new System.Drawing.Point(176, 64).
		this-object:label1:Name = "label1".
		this-object:label1:Size = new System.Drawing.Size(96, 16).
		this-object:label1:TabIndex = 22.
		this-object:label1:Text = "Row Filter Action".
		this-object:label1:UseCompatibleTextRendering = true.
		/*  */
		/* groupBoxRowFilterMode */
		/*  */
		this-object:groupBoxRowFilterMode:Controls:Add(this-object:radioSiblingRowsOnly).
		this-object:groupBoxRowFilterMode:Controls:Add(this-object:radioAllRowsInBand).
		this-object:groupBoxRowFilterMode:Location = new System.Drawing.Point(16, 88).
		this-object:groupBoxRowFilterMode:Name = "groupBoxRowFilterMode".
		this-object:groupBoxRowFilterMode:Size = new System.Drawing.Size(144, 80).
		this-object:groupBoxRowFilterMode:TabIndex = 18.
		this-object:groupBoxRowFilterMode:TabStop = false.
		this-object:groupBoxRowFilterMode:Text = "Band 1 Row Filter Mode".
		this-object:groupBoxRowFilterMode:UseCompatibleTextRendering = true.
		/*  */
		/* radioSiblingRowsOnly */
		/*  */
		this-object:radioSiblingRowsOnly:Location = new System.Drawing.Point(8, 48).
		this-object:radioSiblingRowsOnly:Name = "radioSiblingRowsOnly".
		this-object:radioSiblingRowsOnly:Size = new System.Drawing.Size(128, 16).
		this-object:radioSiblingRowsOnly:TabIndex = 1.
		this-object:radioSiblingRowsOnly:Text = "Sibling Rows Only".
		this-object:radioSiblingRowsOnly:UseCompatibleTextRendering = true.
		/*  */
		/* radioAllRowsInBand */
		/*  */
		this-object:radioAllRowsInBand:Checked = true.
		this-object:radioAllRowsInBand:Location = new System.Drawing.Point(8, 24).
		this-object:radioAllRowsInBand:Name = "radioAllRowsInBand".
		this-object:radioAllRowsInBand:Size = new System.Drawing.Size(128, 16).
		this-object:radioAllRowsInBand:TabIndex = 0.
		this-object:radioAllRowsInBand:TabStop = true.
		this-object:radioAllRowsInBand:Text = "All Rows In Band".
		this-object:radioAllRowsInBand:UseCompatibleTextRendering = true.
		this-object:radioAllRowsInBand:CheckedChanged:subscribe(this-object:radioAllRowsInBand_CheckedChanged).
		/*  */
		/* chkRowFiltering */
		/*  */
		this-object:chkRowFiltering:Checked = true.
		this-object:chkRowFiltering:CheckState = System.Windows.Forms.CheckState:Checked.
		this-object:chkRowFiltering:Location = new System.Drawing.Point(16, 64).
		this-object:chkRowFiltering:Name = "chkRowFiltering".
		this-object:chkRowFiltering:Size = new System.Drawing.Size(152, 16).
		this-object:chkRowFiltering:TabIndex = 17.
		this-object:chkRowFiltering:Text = "Allow Row Filtering".
		this-object:chkRowFiltering:UseCompatibleTextRendering = true.
		this-object:chkRowFiltering:CheckedChanged:subscribe(this-object:chkRowFiltering_CheckedChanged).
		/*  */
		/* chkExpandAllNodes */
		/*  */
		this-object:chkExpandAllNodes:Anchor = cast(Progress.Util.EnumHelper:Or(System.Windows.Forms.AnchorStyles:Top, System.Windows.Forms.AnchorStyles:Right), System.Windows.Forms.AnchorStyles).
		this-object:chkExpandAllNodes:Location = new System.Drawing.Point(496, 72).
		this-object:chkExpandAllNodes:Name = "chkExpandAllNodes".
		this-object:chkExpandAllNodes:Size = new System.Drawing.Size(104, 16).
		this-object:chkExpandAllNodes:TabIndex = 16.
		this-object:chkExpandAllNodes:Text = "Expand All".
		this-object:chkExpandAllNodes:UseCompatibleTextRendering = true.
		this-object:chkExpandAllNodes:CheckedChanged:subscribe(this-object:chkExpandAllNodes_CheckedChanged).
		/*  */
		/* chkEnableAlphaBlending */
		/*  */
		this-object:chkEnableAlphaBlending:Anchor = cast(Progress.Util.EnumHelper:Or(System.Windows.Forms.AnchorStyles:Top, System.Windows.Forms.AnchorStyles:Right), System.Windows.Forms.AnchorStyles).
		this-object:chkEnableAlphaBlending:Location = new System.Drawing.Point(496, 56).
		this-object:chkEnableAlphaBlending:Name = "chkEnableAlphaBlending".
		this-object:chkEnableAlphaBlending:Size = new System.Drawing.Size(104, 16).
		this-object:chkEnableAlphaBlending:TabIndex = 15.
		this-object:chkEnableAlphaBlending:Text = "AlphaBlending".
		this-object:chkEnableAlphaBlending:UseCompatibleTextRendering = true.
		this-object:chkEnableAlphaBlending:CheckedChanged:subscribe(this-object:chkEnableAlphaBlending_CheckedChanged).
		/*  */
		/* lblDescription */
		/*  */
		this-object:lblDescription:Dock = System.Windows.Forms.DockStyle:Top.
		this-object:lblDescription:Location = new System.Drawing.Point(0, 32).
		this-object:lblDescription:Name = "lblDescription".
		this-object:lblDescription:Size = new System.Drawing.Size(616, 24).
		this-object:lblDescription:TabIndex = 14.
		this-object:lblDescription:Text = "This sample demonstrates the row filtering feature.".
		this-object:lblDescription:UseCompatibleTextRendering = true.
		/*  */
		/* btnTitle */
		/*  */
		this-object:btnTitle:Dock = System.Windows.Forms.DockStyle:Top.
		this-object:btnTitle:FlatStyle = System.Windows.Forms.FlatStyle:Flat.
		this-object:btnTitle:Font = new System.Drawing.Font("Arial", 14.25, System.Drawing.FontStyle:Bold, System.Drawing.GraphicsUnit:Point, Progress.Util.CastUtil:ToByte(0)).
		this-object:btnTitle:Location = new System.Drawing.Point(0, 0).
		this-object:btnTitle:Name = "btnTitle".
		this-object:btnTitle:Size = new System.Drawing.Size(616, 32).
		this-object:btnTitle:TabIndex = 13.
		this-object:btnTitle:Text = "Row Filtering".
		this-object:btnTitle:TextAlign = System.Drawing.ContentAlignment:MiddleLeft.
		this-object:btnTitle:UseCompatibleTextRendering = true.
		this-object:btnTitle:Click:subscribe(this-object:btnTitle_Click).
		this-object:btnTitle:MouseUp:subscribe(this-object:btnTitle_MouseUp).
		/*  */
		/* groupBoxFilterActionAppearances */
		/*  */
		this-object:groupBoxFilterActionAppearances:Controls:Add(this-object:buttonFilteredOutRowAppearance).
		this-object:groupBoxFilterActionAppearances:Controls:Add(this-object:buttonFilteredInRowAppearance).
		this-object:groupBoxFilterActionAppearances:Controls:Add(this-object:buttonFilteredOutCellAppearance).
		this-object:groupBoxFilterActionAppearances:Controls:Add(this-object:buttonFilteredInCellAppearance).
		this-object:groupBoxFilterActionAppearances:Location = new System.Drawing.Point(168, 88).
		this-object:groupBoxFilterActionAppearances:Name = "groupBoxFilterActionAppearances".
		this-object:groupBoxFilterActionAppearances:Size = new System.Drawing.Size(400, 80).
		this-object:groupBoxFilterActionAppearances:TabIndex = 21.
		this-object:groupBoxFilterActionAppearances:TabStop = false.
		this-object:groupBoxFilterActionAppearances:Text = "Filter Action Related Appearances".
		this-object:groupBoxFilterActionAppearances:UseCompatibleTextRendering = true.
		/*  */
		/* buttonFilteredOutRowAppearance */
		/*  */
		this-object:buttonFilteredOutRowAppearance:Location = new System.Drawing.Point(208, 48).
		this-object:buttonFilteredOutRowAppearance:Name = "buttonFilteredOutRowAppearance".
		this-object:buttonFilteredOutRowAppearance:Size = new System.Drawing.Size(168, 24).
		this-object:buttonFilteredOutRowAppearance:TabIndex = 3.
		this-object:buttonFilteredOutRowAppearance:Text = "Filtered Out Row Appearance".
		this-object:buttonFilteredOutRowAppearance:UseCompatibleTextRendering = true.
		this-object:buttonFilteredOutRowAppearance:Click:subscribe(this-object:buttonFilteredOutRowAppearance_Click).
		/*  */
		/* buttonFilteredInRowAppearance */
		/*  */
		this-object:buttonFilteredInRowAppearance:Location = new System.Drawing.Point(16, 48).
		this-object:buttonFilteredInRowAppearance:Name = "buttonFilteredInRowAppearance".
		this-object:buttonFilteredInRowAppearance:Size = new System.Drawing.Size(160, 24).
		this-object:buttonFilteredInRowAppearance:TabIndex = 2.
		this-object:buttonFilteredInRowAppearance:Text = "Filtered In Row Appearance".
		this-object:buttonFilteredInRowAppearance:UseCompatibleTextRendering = true.
		this-object:buttonFilteredInRowAppearance:Click:subscribe(this-object:buttonFilteredInRowAppearance_Click).
		/*  */
		/* buttonFilteredOutCellAppearance */
		/*  */
		this-object:buttonFilteredOutCellAppearance:Location = new System.Drawing.Point(208, 16).
		this-object:buttonFilteredOutCellAppearance:Name = "buttonFilteredOutCellAppearance".
		this-object:buttonFilteredOutCellAppearance:Size = new System.Drawing.Size(168, 24).
		this-object:buttonFilteredOutCellAppearance:TabIndex = 1.
		this-object:buttonFilteredOutCellAppearance:Text = "Filtered Out Cell Appearance".
		this-object:buttonFilteredOutCellAppearance:UseCompatibleTextRendering = true.
		this-object:buttonFilteredOutCellAppearance:Click:subscribe(this-object:buttonFilteredOutCellAppearance_Click).
		/*  */
		/* buttonFilteredInCellAppearance */
		/*  */
		this-object:buttonFilteredInCellAppearance:Location = new System.Drawing.Point(16, 16).
		this-object:buttonFilteredInCellAppearance:Name = "buttonFilteredInCellAppearance".
		this-object:buttonFilteredInCellAppearance:Size = new System.Drawing.Size(160, 24).
		this-object:buttonFilteredInCellAppearance:TabIndex = 0.
		this-object:buttonFilteredInCellAppearance:Text = "Filtered In Cell Appearance".
		this-object:buttonFilteredInCellAppearance:UseCompatibleTextRendering = true.
		this-object:buttonFilteredInCellAppearance:Click:subscribe(this-object:buttonFilteredInCellAppearance_Click).
		/*  */
		/* comboBoxFilterAction */
		/*  */
		this-object:comboBoxFilterAction:DropDownStyle = System.Windows.Forms.ComboBoxStyle:DropDownList.
		this-object:comboBoxFilterAction:Location = new System.Drawing.Point(280, 61).
		this-object:comboBoxFilterAction:Name = "comboBoxFilterAction".
		this-object:comboBoxFilterAction:Size = new System.Drawing.Size(128, 21).
		this-object:comboBoxFilterAction:TabIndex = 0.
		this-object:comboBoxFilterAction:SelectedIndexChanged:subscribe(this-object:comboBoxFilterAction_SelectedIndexChanged).
		/*  */
		/* UltraGrid1 */
		/*  */
		this-object:UltraGrid1:Anchor = cast(Progress.Util.EnumHelper:Or(Progress.Util.EnumHelper:Or(Progress.Util.EnumHelper:Or(System.Windows.Forms.AnchorStyles:Top, System.Windows.Forms.AnchorStyles:Bottom), System.Windows.Forms.AnchorStyles:Left), System.Windows.Forms.AnchorStyles:Right), System.Windows.Forms.AnchorStyles).
		this-object:UltraGrid1:DisplayLayout:ScrollStyle = Infragistics.Win.UltraWinGrid.ScrollStyle:Immediate.
		this-object:UltraGrid1:Location = new System.Drawing.Point(0, 182).
		this-object:UltraGrid1:Name = "UltraGrid1".
		this-object:UltraGrid1:Size = new System.Drawing.Size(616, 232).
		this-object:UltraGrid1:TabIndex = 17.
		this-object:UltraGrid1:Text = "UltraGrid1".
		this-object:UltraGrid1:InitializeLayout:subscribe(this-object:UltraGrid1_InitializeLayout).
		/*  */
		/* frmRowFiltering */
		/*  */
		this-object:ClientSize = new System.Drawing.Size(616, 421).
		this-object:Controls:Add(this-object:UltraGrid1).
		this-object:Controls:Add(this-object:Panel1).
		this-object:Name = "frmRowFiltering".
		this-object:Text = "RowFiltering".
		this-object:Load:subscribe(this-object:frmRowFiltering_Load).
		this-object:FormClosing:subscribe(this-object:frmRowFiltering_FormClosing).
		this-object:Panel1:ResumeLayout(false).
		this-object:groupBoxRowFilterMode:ResumeLayout(false).
		this-object:groupBoxFilterActionAppearances:ResumeLayout(false).
		cast(this-object:UltraGrid1, System.ComponentModel.ISupportInitialize):EndInit().
		this-object:ResumeLayout(false).

	end method.




    method private void RefreshGrid( ):
		UltraGrid1:DisplayLayout:UIElement:DirtyChildElements( ).			
	end method.
    
    
    method private void FillFilterActionCombo( ):
        define variable enumValues as System.Array no-undo.
        define variable i as integer no-undo.
	    define variable type as System.Type no-undo.
        
	    comboBoxFilterAction:Items:Clear().
        
        type = Progress.Util.TypeHelper:GetType("Infragistics.Win.UltraWinGrid.RowFilterAction").
       
        enumValues = System.Enum:GetValues(type).
        
        do i = 0 to enumValues:Length - 1:                                                                                                       
            comboBoxFilterAction:Items:Add(enumValues:GetValue(i)).	
        end.

	    comboBoxFilterAction:SelectedItem = Infragistics.Win.UltraWinGrid.RowFilterAction:Default.
    end method.
    
    method private void AddDefaultRowFilters( ):
	    define variable columnFilters as Infragistics.Win.UltraWinGrid.ColumnFiltersCollection no-undo.
		/* If the row filter mode is band based, then get the column filters off the band */
		columnFilters = UltraGrid1:DisplayLayout:Bands[0]:ColumnFilters.
	
		columnFilters:ClearAllFilters( ).
		
		/* Show rows in band 0 by conuntry USA */
		columnFilters["Country"]:FilterConditions:Add( Infragistics.Win.UltraWinGrid.FilterComparisionOperator:Equals, "USA" ).

		columnFilters["State"]:FilterConditions:Add( Infragistics.Win.UltraWinGrid.FilterComparisionOperator:Equals, "NY" ).
		columnFilters["State"]:FilterConditions:Add( Infragistics.Win.UltraWinGrid.FilterComparisionOperator:Equals, "CA" ).
		
		/* Since we want either NY or CA, we have to or the above conditions: */
		columnFilters["State"]:LogicalOperator = Infragistics.Win.UltraWinGrid.FilterLogicalOperator:Or.
	end method.
	
	method private void CreateAppearancePicker( ):
		if valid-object(fAppearancePickerForm) then
        do:
			fAppearancePickerForm:Close( ).
			fAppearancePickerForm:Dispose( ).
		end.
			
		fAppearancePickerForm = new AppearancePicker( ).
	end method.
	
	method protected Progress.Data.BindingSource GetCustOrderSource():   
        if not valid-object(fCustOrderDataSource) then
        do:
            fCustOrderDataSource = new DataServices.CustOrderService().                  
            fCustOrderDataSource:fetchData().                                                 
        end.
        return new Progress.Data.BindingSource(fCustOrderDataSource:DataSetHandle).
    end method. 
	
    /* implements ISamplesBase interface  */
    method public void ShowMe( owner as System.Windows.Forms.Form  ):
/*		InitializeForm().*/
	    if (owner <> ?) then
			this-object:Owner = owner.
		this-object:Show().
	    this-object:CancelButton = btnTitle.
        this-object:CenterToScreen().
		this-object:MaximizeBox = true.
	end method.	

    /* implements ISamplesBase interface  */
    method public void HideMe( ):
        this-object:Hide().   
    end.

	/*------------------------------------------------------------------------------
			Purpose:  																	  
			Notes:  																	  
	------------------------------------------------------------------------------*/
	@VisualDesigner.
	METHOD PRIVATE VOID chkEnableAlphaBlending_CheckedChanged( INPUT sender AS System.Object, INPUT e AS System.EventArgs ):
		/*	enable/disable alphablending */
		if chkEnableAlphaBlending:Checked then
        do: 
		    /* string strGraphicsPath = clsSamplesPath.GraphicsPath */
			UltraGrid1:DisplayLayout:Appearance:ImageBackground = System.Drawing.Image:FromFile(SamplesPath:GraphicsPath + "/Backgrounds/nasa_saturn_montage.jpg").
			UltraGrid1:DisplayLayout:Appearance:ImageBackgroundOrigin = Infragistics.Win.ImageBackgroundOrigin:Form.
			UltraGrid1:DisplayLayout:Appearance:ImageBackgroundStyle = Infragistics.Win.ImageBackgroundStyle:Tiled.
            UltraGrid1:AlphaBlendMode = Infragistics.Win.AlphaBlendMode:Optimized.
		end.
		else 
		do:
			UltraGrid1:AlphaBlendMode = Infragistics.Win.AlphaBlendMode:Disabled.
			UltraGrid1:DisplayLayout:Appearance:ImageBackground = ?.
		end.	
		RETURN.

	END METHOD.

	/*------------------------------------------------------------------------------
			Purpose:  																	  
			Notes:  																	  
	------------------------------------------------------------------------------*/
	@VisualDesigner.
	METHOD PRIVATE VOID chkRowFiltering_CheckedChanged( INPUT sender AS System.Object, INPUT e AS System.EventArgs ):
		if chkRowFiltering:Checked then
			UltraGrid1:DisplayLayout:Override:AllowRowFiltering = Infragistics.Win.DefaultableBoolean:True.
		else
            UltraGrid1:DisplayLayout:Override:AllowRowFiltering = Infragistics.Win.DefaultableBoolean:False.
            
		RETURN.

	END METHOD.

	/*------------------------------------------------------------------------------
			Purpose:  																	  
			Notes:  																	  
	------------------------------------------------------------------------------*/
	@VisualDesigner.
	METHOD PRIVATE VOID UltraGrid1_InitializeLayout( INPUT sender AS System.Object, INPUT e AS Infragistics.Win.UltraWinGrid.InitializeLayoutEventArgs ):
		/*  Hide the identity columns */
		e:Layout:Bands[0]:Columns["CustNum"]:Hidden = true.

		e:Layout:Bands[1]:Columns["OrderNum"]:Hidden = true.
		e:Layout:Bands[1]:Columns["CustNum"]:Hidden = true.

		e:Layout:Bands[2]:Columns["OrderNum"]:Hidden = true.
		
		e:Layout:Bands[0]:Columns["Country"]:Header:VisiblePosition = 5.
		
		e:Layout:Override:RowAppearance:BackColorAlpha = Infragistics.Win.Alpha:Transparent.

		/* 	use the same appearance for alternate rows */
		e:Layout:Override:RowAlternateAppearance = e:Layout:Override:RowAlternateAppearance.
		e:Layout:Override:CellAppearance:BackColorAlpha = Infragistics.Win.Alpha:UseAlphaLevel.
		e:Layout:Override:CellAppearance:AlphaLevel = 192.

		e:Layout:Override:HeaderAppearance:AlphaLevel = 192.
		e:Layout:Override:HeaderAppearance:BackColorAlpha = Infragistics.Win.Alpha:UseAlphaLevel.

		e:Layout:Override:RowFilterMode = Infragistics.Win.UltraWinGrid.RowFilterMode:AllRowsInBand.

		/*  Set the Filter Action related appearances on the layout */
		e:Layout:Override:FilteredInCellAppearance:BackColor = System.Drawing.Color:LightYellow.
		e:Layout:Override:FilteredInCellAppearance:ForeColor = System.Drawing.Color:Blue.

		/* Initialize the filter action combo. */
	 
		FillFilterActionCombo( ).
		
		/* Filter rows by some sample criteria. */
	
		AddDefaultRowFilters( ).

		/*  Allow the user to modify the row filters. */
		 
		e:Layout:Override:AllowRowFiltering = Infragistics.Win.DefaultableBoolean:True.
		chkRowFiltering:Checked = true.
		RETURN.

	END METHOD.

	/*------------------------------------------------------------------------------
			Purpose:  																	  
			Notes:  																	  
	------------------------------------------------------------------------------*/
	@VisualDesigner.
	METHOD PRIVATE VOID frmRowFiltering_Load( INPUT sender AS System.Object, INPUT e AS System.EventArgs ):
		/* Hide the grid caption by setting the Text to empty string. */
		UltraGrid1:Text = "".
	
        UltraGrid1:AlphaBlendMode = Infragistics.Win.AlphaBlendMode:Disabled.		
        UltraGrid1:DataSource = GetCustOrderSource().
		
		RETURN.

	END METHOD.

	/*------------------------------------------------------------------------------
			Purpose:  																	  
			Notes:  																	  
	------------------------------------------------------------------------------*/
	@VisualDesigner.
	METHOD PRIVATE VOID chkExpandAllNodes_CheckedChanged( INPUT sender AS System.Object, INPUT e AS System.EventArgs ):
		if chkExpandAllNodes:Checked then
			UltraGrid1:Rows:ExpandAll(true).
		else
		    UltraGrid1:Rows:CollapseAll(true).
		
		RETURN.

	END METHOD.

	/*------------------------------------------------------------------------------
			Purpose:  																	  
			Notes:  																	  
	------------------------------------------------------------------------------*/
	@VisualDesigner.
	METHOD PRIVATE VOID comboBoxFilterAction_SelectedIndexChanged( INPUT sender AS System.Object, INPUT e AS System.EventArgs ):
		UltraGrid1:DisplayLayout:Override:RowFilterAction =  cast(comboBoxFilterAction:SelectedItem,Infragistics.Win.UltraWinGrid.RowFilterAction).
	
		RETURN.

	END METHOD.

	/*------------------------------------------------------------------------------
			Purpose:  																	  
			Notes:  																	  
	------------------------------------------------------------------------------*/
	@VisualDesigner.
	METHOD PRIVATE VOID radioAllRowsInBand_CheckedChanged( INPUT sender AS System.Object, INPUT e AS System.EventArgs ):
			if radioAllRowsInBand:Checked then
			    UltraGrid1:DisplayLayout:Bands[1]:Override:RowFilterMode = Infragistics.Win.UltraWinGrid.RowFilterMode:AllRowsInBand.
			else
			    UltraGrid1:DisplayLayout:Bands[1]:Override:RowFilterMode = Infragistics.Win.UltraWinGrid.RowFilterMode:SiblingRowsOnly.
			
			RefreshGrid( ).
			RETURN.

	END METHOD.

	/*------------------------------------------------------------------------------
			Purpose:  																	  
			Notes:  																	  
	------------------------------------------------------------------------------*/
	@VisualDesigner.
	METHOD PRIVATE VOID buttonFilteredInCellAppearance_Click( INPUT sender AS System.Object, INPUT e AS System.EventArgs ):
		CreateAppearancePicker( ).
 
		fAppearancePickerForm:ShowMe(UltraGrid1:DisplayLayout:Override:FilteredInCellAppearance,"Filtered In Cell Appearance").
		RETURN.

	END METHOD.

	/*------------------------------------------------------------------------------
			Purpose:  																	  
			Notes:  																	  
	------------------------------------------------------------------------------*/
	@VisualDesigner.
	METHOD PRIVATE VOID buttonFilteredOutCellAppearance_Click( INPUT sender AS System.Object, INPUT e AS System.EventArgs ):
		CreateAppearancePicker( ).
 
		fAppearancePickerForm:ShowMe(UltraGrid1:DisplayLayout:Override:FilteredOutCellAppearance,"Filtered Out Cell Appearance").
	
		RETURN.

	END METHOD.

	/*------------------------------------------------------------------------------
			Purpose:  																	  
			Notes:  																	  
	------------------------------------------------------------------------------*/
	@VisualDesigner.
	METHOD PRIVATE VOID buttonFilteredInRowAppearance_Click( INPUT sender AS System.Object, INPUT e AS System.EventArgs ):
		CreateAppearancePicker( ).
 
		fAppearancePickerForm:ShowMe(UltraGrid1:DisplayLayout:Override:FilteredInRowAppearance,"Filtered In Row Appearance").
	
		RETURN.

	END METHOD.

	/*------------------------------------------------------------------------------
			Purpose:  																	  
			Notes:  																	  
	------------------------------------------------------------------------------*/
	@VisualDesigner.
	METHOD PRIVATE VOID buttonFilteredOutRowAppearance_Click( INPUT sender AS System.Object, INPUT e AS System.EventArgs ):
		CreateAppearancePicker( ).
 
		fAppearancePickerForm:ShowMe(UltraGrid1:DisplayLayout:Override:FilteredOutRowAppearance,"Filtered Out Row Appearance").
	
		
		RETURN.

	END METHOD.
	/*------------------------------------------------------------------------------
			Purpose:  																	  
			Notes:  																	  
	------------------------------------------------------------------------------*/
	@VisualDesigner.
	METHOD PRIVATE VOID frmRowFiltering_FormClosing( INPUT sender AS System.Object, INPUT e AS System.Windows.Forms.FormClosingEventArgs ):
		if valid-object(this-object:Owner) then 
	    do:
	        e:Cancel = true.
		    this-object:Visible = false.
		end.
		RETURN.

	END METHOD.
	
	/*------------------------------------------------------------------------------
			Purpose:  																	  
			Notes:  																	  
	------------------------------------------------------------------------------*/
	@VisualDesigner.
	METHOD PRIVATE VOID btnTitle_Click( INPUT sender AS System.Object, INPUT e AS System.EventArgs ):
		if valid-object(this-object:Owner) then
            HideMe().
		RETURN.
	END METHOD.
	
	/*------------------------------------------------------------------------------
			Purpose:  																	  
			Notes:  																	  
	------------------------------------------------------------------------------*/
	@VisualDesigner.
	METHOD PRIVATE VOID btnTitle_MouseUp( INPUT sender AS System.Object, INPUT e AS System.Windows.Forms.MouseEventArgs ):
		if valid-object(this-object:Owner) then
		    (cast (this-object:Owner,frmMain)):Navigation(e:Button).
		RETURN.
	END METHOD.

END CLASS.